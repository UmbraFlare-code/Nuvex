/* ===== Variables de ancho e íconos ===== */
.sidebar {
  --w: var(--sidebar-w, 260px);
  --w-collapsed: var(--sidebar-w-collapsed, 72px);

  --icon-size-lg: 24px;
  --icon-size-md: 22px;
  --icon-size-sm: 20px;

  --pad-sm: 6px;
  --pad-md: 10px;
}

/* ===== Contenedor ===== */
.sidebar {
  position: fixed;
  inset: 0 auto 0 0;
  width: var(--w);
  height: 100dvh;

  background: var(--sidebar);
  color: var(--sidebar-foreground);
  border-right: 1px solid var(--border);

  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  padding: var(--space-xs) ;

  z-index: 50;
  overflow-y: auto;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;

  transition:
    width 160ms ease,
    transform 220ms ease;
}

/* ===== Header ===== */
.sidebarHeader {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: var(--space-sm);
  font-weight: 700;
  font-size: var(--font-size-lg);
  margin: 0 0 var(--space-sm);
}

.sidebarLogo {
  font-size: 1.4rem;
  line-height: 1;
}
.sidebarTitle { white-space: nowrap; }

/* ===== Usuario ===== */
.sidebarUserBox {
  display: flex;
  align-items: center;
  gap: var(--space-sm);

  background: var(--gray-600);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--pad-md);
}

.sidebarUserAvatar {
  flex-shrink: 0;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--sidebar-accent);
  color: var(--sidebar-foreground);
  display: grid;
  place-items: center;
  font-weight: 700;
}

.sidebarUserInfo {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.sidebarUserName {
  font-weight: 600;
  font-size: var(--font-size-sm);
}
.sidebarUserRole {
  color: var(--muted-foreground);
  font-size: var(--font-size-xs);
}

/* ===== Navegación ===== */
.sidebarNav {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.sidebarItem {
  appearance: none;
  -webkit-appearance: none;

  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: var(--space-sm);

  padding: var(--pad-md);
  border-radius: var(--radius-md);
  background: transparent;
  border: 1px solid transparent;
  color: var(--sidebar-foreground);

  cursor: pointer;
  transition: background 120ms ease, border-color 120ms ease, transform 60ms ease;
}

.sidebarItem:hover {
  background: var(--sidebar-accent);
  border-color: var(--border);
}

.sidebarItem:focus-visible {
  outline: none;
  border-color: var(--sidebar-primary);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--sidebar-primary) 25%, transparent);
}

.sidebarItem:active { transform: translateY(1px); }

.sidebarItemActive {
  background: color-mix(in srgb, var(--sidebar-primary) 10%, transparent);
  border-color: color-mix(in srgb, var(--sidebar-primary) 30%, var(--border));
}

/* ===== Íconos ===== */
.sidebarIcon {
  display: grid;
  place-items: center;
  flex-shrink: 0;

  width: calc(var(--icon-size-lg) + var(--pad-sm) * 2);
  height: calc(var(--icon-size-lg) + var(--pad-sm) * 2);

  font-size: var(--icon-size-lg);
  border-radius: var(--radius-sm);
}

.sidebarLabel {
  white-space: nowrap;
  font-size: var(--font-size-sm);
}

/* ===== Footer ===== */
.sidebarFooter {
  margin-top: auto;
  padding-top: var(--space-md);
}

.sidebarLogout {
  background: rgba(239, 68, 68, 0.08);
  border-color: rgba(239, 68, 68, 0.3);
  color: rgb(239, 68, 68);
  width: 100%;
  height: calc(var(--icon-size-lg) + var(--pad-sm) * 4);
}
.sidebarLogout:hover {
  background: rgba(239, 68, 68, 0.12);
}

/* ===== Breakpoint único (<1280px): rail centrado con íconos medianos ===== */
@media (max-width: 1279px) {
  .sidebar {
    width: var(--w-collapsed);
    align-items: center; /* centra todo */
    overflow-x: hidden;
  }

  .sidebarTitle,
  .sidebarUserInfo,
  .sidebarLabel { display: none; }

  
  .sidebarUserBox {
    background: none;
    border:none;
  }

  .sidebarItem {
    justify-content: center;
    padding: var(--pad-sm);
  }

  .sidebarIcon {
    width: calc(var(--icon-size-md) + var(--pad-sm) * 2);
    height: calc(var(--icon-size-md) + var(--pad-sm) * 2);
    font-size: var(--icon-size-md);
  }
}

/* ===== Mobile (<640px): íconos pequeños ===== */
@media (max-width: 639px) {
  .sidebar {
    --w-collapsed: 64px;
  }

  .sidebarIcon {
    width: calc(var(--icon-size-sm) + var(--pad-sm) * 0.7);
    height: calc(var(--icon-size-sm) + var(--pad-sm) * 0.7);
    font-size: var(--icon-size-sm);
  }
}

/* ===== Backdrop para mobile ===== */
.backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  opacity: 0;
  visibility: hidden;
  transition: opacity 180ms ease, visibility 180ms ease;
  z-index: 40;
}

.backdrop.isOpen,
.backdrop[data-open="true"] {
  opacity: 1;
  visibility: visible;
}


